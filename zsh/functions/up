local dir=""
if [[ -z "$1" ]]; then
  # up without parameters: one level up.
  dir=".."
elif [[ "$1" =~ ^[0-9]+$ ]]; then
  # up with numeric parameters: n levels up.
  local count=0
  while [[ $count -lt ${1:-1} ]]; do
    dir="${dir}../"
    x=$(($count + 1))
  done
else
  # up with string: up to the first directory that matches $1.
  dir="${PWD%/$1/*}/$1"

  if [[ ! -d "$dir" ]]; then
    >&2 echo No parent directory named $1
    return 1
  fi
fi

cd "$dir"
